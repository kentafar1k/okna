# Инструкция по использованию скрипта test_orders.py

Скрипт предназначен для быстрого добавления и удаления тестовых заказов в системе.

## Требования

- Django
- База данных должна содержать хотя бы одного клиента

## Использование

### Общий формат команды

```
python manage.py test_orders [параметры]
```

### Параметры

#### Для добавления заказов:

- `--add N` - добавить N заказов
- `--status STATUS` - установить указанный статус (new, in_progress, ready, completed)
- `--year YEAR` - год для новых заказов (по умолчанию текущий)
- `--month MONTH` - месяц для новых заказов (по умолчанию текущий)
- `--test-prefix PREFIX` - префикс для номеров заказов (по умолчанию "ТЕСТ-")

#### Для удаления заказов:

- `--delete all` - удалить все заказы
- `--delete completed` - удалить только завершенные заказы
- `--delete test` - удалить только тестовые заказы (с префиксом)

### Примеры использования

1. Добавить 5 случайных заказов:
   ```
   python manage.py test_orders --add 5
   ```

2. Добавить 10 заказов со статусом "completed":
   ```
   python manage.py test_orders --add 10 --status completed
   ```

3. Добавить 7 заказов в определенном месяце (январь 2024):
   ```
   python manage.py test_orders --add 7 --year 2024 --month 1
   ```

4. Удалить все тестовые заказы:
   ```
   python manage.py test_orders --delete test
   ```

5. Удалить все завершенные заказы:
   ```
   python manage.py test_orders --delete completed
   ```

6. Добавить заказы с другим префиксом:
   ```
   python manage.py test_orders --add 3 --test-prefix "DEMO-"
   ```

7. Добавить заказы и сразу удалить завершенные:
   ```
   python manage.py test_orders --add 20 --delete completed
   ```

## Примечания

1. Заказы создаются с уникальными номерами в формате "ПРЕФИКС-ГОД-МЕСЯЦ-НОМЕР".
2. Стоимость генерируется случайно от 5000 до 50000 руб.
3. Предоплата генерируется случайно от 0 до 50% от стоимости.
4. Клиенты выбираются случайно из существующих в базе данных.
5. Дата заказов всегда устанавливается в пределах указанного месяца и года. 